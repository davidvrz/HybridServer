Refactorización de las respuestas HTML:

Usa un motor de plantillas (o al menos archivos de plantilla estáticos) para las respuestas HTML en lugar de generarlas dinámicamente en 
cadenas de texto. Esto mejoraría la legibilidad y el mantenimiento.


Con mapeo de Controladores:

public void run() {
    int port = socket.getLocalPort();
    try (BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));
         OutputStream output = socket.getOutputStream()) {

        HTTPRequest request = new HTTPRequest(reader);
        HTTPResponse response = new HTTPResponse();

        // Mapeo de recursos a controladores
        Map<String, Controller> resourceControllers = Map.of(
            "html", htmlController,
            "xml", xmlController,
            "xsd", xsdController,
            "xslt", xsltController
        );

        String resource = request.getResourceName();
        Controller controller = resourceControllers.get(resource);

        if (controller != null) {
            // Delegar manejo según el método HTTP
            switch (request.getMethod()) {
                case GET -> controller.handleGetRequest(request, response, port);
                case POST -> controller.handlePostRequest(request, response);
                case DELETE -> controller.handleDeleteRequest(request, response);
                default -> handleMethodNotAllowed(response);
            }
        } else if (resource.isEmpty()) {
            handleWelcomePage(response, port);
        } else {
            handleNotFound(response);
        }

        // Enviar la respuesta al cliente
        response.send(output);

    } catch (Exception e) {
        e.printStackTrace();
    }
}
